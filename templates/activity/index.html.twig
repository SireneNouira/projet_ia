{% extends 'base.html.twig' %}

{% block title %}Mes ActivitÃ©s{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('styles/activities.css') }}">
{% endblock %}
{% block header_extra %}
    <li>
        <a href="{{ path('app_home') }}">Accueil</a>
    </li>
{% endblock %}
{% block body %}
    <div class="activities-container">
        <h1>ğŸŒŸ Mes ActivitÃ©s</h1>

        <!-- Section Suggestions Quotidiennes -->
        <div class="daily-suggestion">
            <h2>ğŸ’¡ Suggestion du Jour</h2>
            <p id="suggestion-text">Chargement de la suggestion...</p>
            <button id="refresh-suggestion">ğŸ”„ Nouvelle Suggestion</button>
        </div>

        <!-- Filtres par ThÃ¨me -->
        <div class="theme-filters">
            <button class="theme-btn active" data-theme="all">Tout</button>
            <button class="theme-btn" data-theme="sport">ğŸ‹ï¸â€â™‚ï¸ Sport</button>
            <button class="theme-btn" data-theme="culture">ğŸ¨ Culture</button>
            <button class="theme-btn" data-theme="detente">ğŸ§˜â€â™€ï¸ DÃ©tente</button>
            <button class="theme-btn" data-theme="quotidien">ğŸ  Quotidien</button>
        </div>

        <!-- Liste des ActivitÃ©s -->
        <div class="activities-grid">
            {% for activity in activities %}
                <div class="activity-card" data-theme="{{ activity.quotidien ? 'quotidien' : 'other' }}">
                    <h2>{{ activity.title }}</h2>
                    <p>{{ activity.description }}</p>
                    <div class="activity-meta">
                        <span class="activity-date">ğŸ“… </span>
                        <span class="activity-theme">{{ activity.quotidien ? 'ğŸ  Quotidien' : 'ğŸ¯ Autre' }}</span>
                    </div>
                    <div class="activity-actions">
                        <a href="{{ path('app_activity_show', {'id': activity.id}) }}" class="btn-show">ğŸ‘€ Voir</a>
                        <a href="{{ path('app_activity_edit', {'id': activity.id}) }}" class="btn-edit">âœï¸ Modifier</a>
                        <form action="{{ path('app_activity_delete', {'id': activity.id}) }}" method="POST" onsubmit="return confirm('ÃŠtes-vous sÃ»r de vouloir supprimer cette activitÃ© ?');">
                            <button type="submit" class="btn-delete">ğŸ—‘ï¸ Supprimer</button>
                        </form>
                    </div>
                </div>
            {% else %}
                <p class="no-activities">Aucune activitÃ© trouvÃ©e. Commencez Ã  en crÃ©er une !</p>
            {% endfor %}
        </div>

        <a href="{{ path('app_activity_new') }}" class="btn-new-activity">â• Ajouter une activitÃ©</a>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/activities.js') }}"></script>
{% endblock %}